
<canvas id='canvas' width="620" height="480" style='border:1px solid'>

    <script>
        let ctx = canvas.getContext("2d");
        let ballX = 10 //圖片的左上角起算的x和y
        let ballY = 10
        let dx=10
        let dy=10
        let bg = new Image()
        bg.src = 'img/w.jpg'
        let ball = new Image()

        // 圖檔需要onload才會顯示
        bg.onload = function () {
            ctx.drawImage(bg, 0, 0)
            ball.src = 'img/ball.png'
            ball.onload = function () {
                ctx.drawImage(ball, ballX, ballY)

            }

        }
        // 清掉畫面，重渲染
        function refreshView() {
            ctx.clearRect(0, 0, canvas.width, canvas.height)
            ctx.drawImage(bg, 0, 0)
            ctx.drawImage(ball, ballX, ballY)


        }
        // 球移動
        function go() {
            if (ballX < 0 || ballX + 48 > canvas.width) {
                dx *= -1
            }
            if(ballY <0 || ballY +48 > canvas.height) {
                dy *= -1
            }
            ballX += dx
            ballY += dy


        }

        setInterval(refreshView, 30);
        setInterval(go, 60)
    </script>